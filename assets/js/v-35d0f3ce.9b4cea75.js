"use strict";(self.webpackChunkweiboqianduan=self.webpackChunkweiboqianduan||[]).push([[1076],{4070:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-35d0f3ce",path:"/Utils/chrome%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html",title:"chrome插件开发",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"文件结构",slug:"文件结构",children:[{level:3,title:"manifest.json",slug:"manifest-json",children:[]}]},{level:2,title:"开发安装调试",slug:"开发安装调试",children:[{level:3,title:"本地安装",slug:"本地安装",children:[]},{level:3,title:"调试后台脚本 background.js",slug:"调试后台脚本-background-js",children:[]},{level:3,title:"用户页面 popup.html",slug:"用户页面-popup-html",children:[]}]},{level:2,title:"Api",slug:"api",children:[]},{level:2,title:"注意",slug:"注意",children:[]}],filePathRelative:"Utils/chrome插件开发.md",git:{updatedTime:1631007363e3}}},9372:(s,n,a)=>{a.r(n),a.d(n,{default:()=>r});var e=a(6252);const p=a.p+"assets/img/chrome-plugin-show.1b5b725b.png",t=a.p+"assets/img/chrome-bgjs.9ef56ba6.png",o=(0,e.uE)('<h1 id="chrome插件开发"><a class="header-anchor" href="#chrome插件开发">#</a> chrome插件开发</h1><blockquote><p>文章暂时不完整，可能存在错误，待补充</p></blockquote><h2 id="文件结构"><a class="header-anchor" href="#文件结构">#</a> 文件结构</h2><p><img src="'+p+'" alt="chrome-plugin-show.png"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>chrome-plugin-demo\n├── background.js\n├── images\n│   ├── 128.png\n│   ├── 16.png\n│   ├── 32.png\n│   └── 48.png\n├── manifest.json\n├── popup.html\n└── popup.js\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="manifest-json"><a class="header-anchor" href="#manifest-json">#</a> manifest.json</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;提醒&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单次提醒-重复提醒&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;manifest_version&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;permissions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;notifications&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;alarms&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;storage&quot;</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;background&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token string">&quot;background.js&quot;</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;persistent&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;browser_action&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;default_icon&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token property">&quot;16&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/get_started16.png&quot;</span><span class="token punctuation">,</span>\n      <span class="token property">&quot;32&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/get_started32.png&quot;</span><span class="token punctuation">,</span>\n      <span class="token property">&quot;48&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/get_started48.png&quot;</span><span class="token punctuation">,</span>\n      <span class="token property">&quot;128&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/get_started128.png&quot;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;default_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;消息提醒插件&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;default_popup&quot;</span><span class="token operator">:</span> <span class="token string">&quot;popup.html&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="开发安装调试"><a class="header-anchor" href="#开发安装调试">#</a> 开发安装调试</h2><h3 id="本地安装"><a class="header-anchor" href="#本地安装">#</a> 本地安装</h3><ul><li>在 <code>chrome</code> 中安装扩展 谷歌浏览器右上角: 更多按钮 -&gt; 更多工具 -&gt; 扩展程序</li><li>点击加载已解压的扩展程序，选择刚创建的文件夹</li><li>点开谷歌浏览器右上角的拼图图标即可看到你的插件。</li></ul><h3 id="调试后台脚本-background-js"><a class="header-anchor" href="#调试后台脚本-background-js">#</a> 调试后台脚本 background.js</h3><blockquote><p>后台脚本是扩展程序的事件处理程序，其中包含扩展程序的事件监听器，可以在后台运行，只在需要时才加载，在空闲时不加载。</p></blockquote><p>特点：</p><ul><li>Javascript 文件总是运行在后台.</li><li>有 Chrome 应用程序级别命令的访问权限。</li><li>有使用所有 Chrome API 的权限</li></ul><p>调试:</p><p><img src="'+t+'" alt="chrome-bgjs.png"></p><h3 id="用户页面-popup-html"><a class="header-anchor" href="#用户页面-popup-html">#</a> 用户页面 popup.html</h3><p>调试：</p><p>找到本地安装的插件，右键点击审查弹出内容即可。</p><h2 id="api"><a class="header-anchor" href="#api">#</a> Api</h2><ul><li>chrome.extension.getBackgroundPage() 返回 background.js 的变量,是 popup.js 获取背景页的桥梁</li><li>chrome.storage.sync.onChanged.addListener 监听本地缓存变化 <ul><li>chrome.storage.sync.clear</li><li>chrome.storage.sync.set</li><li>chrome.storage.sync.get</li></ul></li><li>chrome.alarms.getAll 获取提醒的 api <ul><li>clear</li><li>clearAll</li><li>create</li></ul></li><li>chrome.alarms.onAlarm.addListener 监听 alarm 变化</li><li>chrome.notifications.create 提醒</li><li>chrome.runtime.onInstalled.addListener 加载插件初始化监听</li></ul><h2 id="注意"><a class="header-anchor" href="#注意">#</a> 注意</h2><p><code>popup.html</code> 的 <code>js</code> 需要外部引入。</p>',23),l={},r=(0,a(3744).Z)(l,[["render",function(s,n){return o}]])}}]);